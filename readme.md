Em captura semafaro é possível ver o semafaro normal, com todas as luzes acendendo em sequência.

Não consegui adicionar a lógica do clique do botão corretamente, mas acredito que todas as outras funções estejam funcionando, jé que a lógica está bem parecida da qual o semáfaro está normal.